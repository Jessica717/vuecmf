{"version":3,"sources":["webpack:///./src/views/layout/components/navTabs.vue?f4c2","webpack:///./src/views/layout/components/navTabs.vue?47c2","webpack:///src/views/layout/components/navTabs.vue","webpack:///./src/views/layout/components/navTabs.vue?2fb2","webpack:///./src/views/layout/components/navTabs.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_iview_loader_index_js_ref_15_0_navTabs_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_iview_loader_index_js_ref_15_0_navTabs_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","on","on-tab-remove","removeTab","on-click","clickTab","model","value","callback","$$v","currentNavTab","expression","_l","item","index","key","name","label","title","closable","trigger","manageNavTabs","slot","_v","click","refresh","fullScreen","staticRenderFns","navTabsvue_type_script_lang_js_","inject","data","computed","get","$store","state","navTabsData","set","newCurrentNavTab","navTabs","newNavTabs","methods","command","tabs","activeName","console","log","current_index","forEach","tab","is_remove","filter","dispatch","$router","push","path","$emit","currentTabName","targetName","nextTab","reload","el","document","documentElement","rfs","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","call","components_navTabsvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-bf6861f8.35622672.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--15-0!./navTabs.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--15-0!./navTabs.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav-tabs-container\"},[_c('div',{staticClass:\"nav-tabs\"},[_c('div',{staticClass:\"nav-tabs-inner\"},[_c('Tabs',{attrs:{\"type\":\"card\"},on:{\"on-tab-remove\":_vm.removeTab,\"on-click\":_vm.clickTab},model:{value:(_vm.currentNavTab),callback:function ($$v) {_vm.currentNavTab=$$v},expression:\"currentNavTab\"}},_vm._l((_vm.navTabs),function(item,index){return _c('TabPane',{key:item.name,attrs:{\"label\":item.title,\"name\":item.name,\"closable\":item.closable}})}),1)],1)]),_c('div',{staticClass:\"nav-tabs-btn\"},[_c('Dropdown',{attrs:{\"trigger\":\"click\"},on:{\"on-click\":_vm.manageNavTabs}},[_c('div',{staticClass:\"tab-btn more\"},[_c('Icon',{attrs:{\"type\":\"ios-more\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{attrs:{\"name\":\"close-left\"}},[_vm._v(\"关闭左边\")]),_c('DropdownItem',{attrs:{\"name\":\"close-right\"}},[_vm._v(\"关闭右边\")]),_c('DropdownItem',{attrs:{\"name\":\"close-current\"}},[_vm._v(\"关闭当前\")]),_c('DropdownItem',{attrs:{\"name\":\"close-no-current\"}},[_vm._v(\"关闭非当前\")]),_c('DropdownItem',{attrs:{\"name\":\"close-all\"}},[_vm._v(\"关闭全部\")])],1)],1),_c('div',{staticClass:\"tab-btn\",attrs:{\"title\":\"刷新\"},on:{\"click\":_vm.refresh}},[_c('Icon',{attrs:{\"type\":\"md-refresh\"}})],1),_c('div',{staticClass:\"tab-btn\",attrs:{\"title\":\"全屏（按ESC键退出全屏）\"},on:{\"click\":_vm.fullScreen}},[_c('Icon',{attrs:{\"type\":\"ios-desktop-outline\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <!-- 标签页开始 -->\r\n    <div class=\"nav-tabs-container\">\r\n        <div class=\"nav-tabs\">\r\n            <div class=\"nav-tabs-inner\">\r\n                <Tabs v-model=\"currentNavTab\" type=\"card\"  @on-tab-remove=\"removeTab\" @on-click=\"clickTab\" >\r\n                        <TabPane\r\n                                v-for=\"(item, index) in navTabs\"\r\n                                :key=\"item.name\"\r\n                                :label=\"item.title\"\r\n                                :name=\"item.name\"\r\n                                :closable=\"item.closable\"\r\n                        >\r\n                        </TabPane>\r\n                </Tabs>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"nav-tabs-btn\">\r\n            <Dropdown @on-click=\"manageNavTabs\" trigger=\"click\">\r\n                <div class=\"tab-btn more\">\r\n                    <Icon type=\"ios-more\" />\r\n                </div>\r\n                <DropdownMenu slot=\"list\">\r\n                    <DropdownItem name=\"close-left\">关闭左边</DropdownItem>\r\n                    <DropdownItem name=\"close-right\">关闭右边</DropdownItem>\r\n                    <DropdownItem name=\"close-current\">关闭当前</DropdownItem>\r\n                    <DropdownItem name=\"close-no-current\">关闭非当前</DropdownItem>\r\n                    <DropdownItem name=\"close-all\">关闭全部</DropdownItem>\r\n                </DropdownMenu>\r\n            </Dropdown>\r\n\r\n            <div class=\"tab-btn\" @click=\"refresh\" title=\"刷新\"><Icon type=\"md-refresh\" /></div>\r\n            <div class=\"tab-btn\" @click=\"fullScreen\" title=\"全屏（按ESC键退出全屏）\"><Icon type=\"ios-desktop-outline\" /></div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n    <!-- 标签页结束 -->\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport Vue from 'vue'\r\n\r\nexport default {\r\n    name: 'vc-nav-tabs',\r\n    inject: ['reload'], //注入父组件provide中的reload函数\r\n    data(){\r\n        return {\r\n\r\n        }\r\n    },\r\n    computed:{\r\n        currentNavTab:{\r\n            get: function () {\r\n                return this.$store.state.navTabsData.currentNavTab\r\n            },\r\n            set: function(newCurrentNavTab) {\r\n                this.$store.state.navTabsData.currentNavTab = newCurrentNavTab\r\n            }\r\n        },\r\n        navTabs: {\r\n            get: function () {\r\n                return this.$store.state.navTabsData.navTabs\r\n            },\r\n            set: function (newNavTabs) {\r\n                this.$store.state.navTabsData.navTabs = newNavTabs\r\n            }\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        manageNavTabs(command) {\r\n            let tabs = this.navTabs;\r\n            let activeName = this.currentNavTab;\r\n            console.log(tabs)\r\n            console.log(activeName)\r\n            let current_index = 0; //当前标签页索引\r\n            tabs.forEach((tab, index) => {\r\n                if(tab.name === activeName){\r\n                    current_index = index\r\n                }\r\n            });\r\n            let is_remove = false\r\n            let navTabs = []\r\n            switch (command){\r\n                case 'close-left':\r\n                    navTabs = tabs.filter((tab,index) => (index >= current_index || tab.name == 'welcome'));\r\n                    break;\r\n                case 'close-right':\r\n                    navTabs = tabs.filter((tab,index) => (index <= current_index || tab.name == 'welcome'));\r\n                    break;\r\n                case 'close-current':\r\n                    this.removeTab(activeName)\r\n                    is_remove = true\r\n                    break;\r\n                case 'close-no-current':\r\n                    navTabs = tabs.filter(tab => (tab.name === activeName || tab.name == 'welcome'));\r\n                    break;\r\n                default:\r\n                    activeName = 'welcome';\r\n                    navTabs = [{title: '系统首页',name: 'welcome',closable: false}]\r\n\r\n            }\r\n\r\n            if(!is_remove){\r\n                this.$store.dispatch('setNavTabsData',{\r\n                    currentNavTab: activeName,\r\n                    navTabs: navTabs\r\n                })\r\n                this.$router.push({ path: activeName })\r\n            }\r\n\r\n            this.$emit('on-rest-side-menu-select')\r\n\r\n        },\r\n\r\n        clickTab(currentTabName){\r\n            //this.$store.dispatch('setNavTabs',currentTab)\r\n\r\n            this.$router.push({ path:currentTabName })\r\n\r\n            this.$emit('on-rest-side-menu-select')\r\n\r\n        },\r\n        removeTab(targetName) {\r\n            let tabs = this.navTabs;\r\n            let activeName = this.currentNavTab;\r\n\r\n            if (activeName === targetName) {\r\n                tabs.forEach((tab, index) => {\r\n                    if (tab.name === targetName) {\r\n                        let nextTab = tabs[index + 1] || tabs[index - 1];\r\n                        if (nextTab) {\r\n                            activeName = nextTab.name;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            this.$router.push({ path:activeName })\r\n\r\n            let navTabs = tabs.filter(tab => tab.name !== targetName);\r\n\r\n            this.$store.dispatch('setNavTabsData',{\r\n                    currentNavTab: activeName,\r\n                    navTabs: navTabs\r\n            })\r\n\r\n            this.$emit('on-rest-side-menu-select')\r\n            \r\n        },\r\n        refresh(){\r\n           this.reload()\r\n        },\r\n        fullScreen(){\r\n            let el = document.documentElement;\r\n            let rfs = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;      \r\n            if(typeof rfs != \"undefined\" && rfs) {\r\n                rfs.call(el);\r\n            }\r\n            return;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~@/assets/style/admin-base.scss';\r\n\r\n/* 导航标签页 */\r\n.nav-tabs{ height: 32px !important;}\r\n.nav-tabs-container{\r\n    display: flex;\r\n    height: 36px;\r\n    padding-top: 4px;\r\n}\r\n\r\n.ivu-tabs-nav-container{\r\n    font-size: 12px !important;\r\n}\r\n\r\n.nav-tabs{\r\n    flex-grow: 1;\r\n    overflow: hidden;\r\n    background-color: #FFF;\r\n    height: $nav_tabs_height;\r\n}\r\n\r\n.nav-tabs-inner{\r\n    height: 33px;\r\n    border-bottom: 1px solid #CCC;\r\n    background-color: #F2F2F2;\r\n}\r\n\r\n.tab-btn{\r\n    flex-grow: 1;\r\n    color: #666;\r\n    cursor: pointer;\r\n    line-height:30px;\r\n    font-size: 20px;\r\n}\r\n\r\n.more{ padding: 0 5px; }\r\n\r\n.ivu-tabs-tab{\r\n    height: $nav_tabs_height;\r\n    line-height: 30px;\r\n}\r\n\r\n.ivu-tabs.ivu-tabs-card > .ivu-tabs-bar .ivu-tabs-tab{\r\n    line-height: 24px; \r\n}\r\n\r\n.nav-tabs-btn{\r\n    flex: 0 0 96px;\r\n    border: 1px solid #CCC;\r\n    background-color: #FFF;\r\n    border-top-left-radius: 4px;\r\n    text-align: center;\r\n    line-height: 32px;\r\n    display: flex;\r\n    height: 32px;\r\n}\r\n\r\n#tab-welcome{ border-left: 0; border-top-left-radius: 0;}\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--15-0!./navTabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--15-0!./navTabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navTabs.vue?vue&type=template&id=05cfaf22&\"\nimport script from \"./navTabs.vue?vue&type=script&lang=js&\"\nexport * from \"./navTabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./navTabs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}