(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d79cb1e"],{"07d5":function(e,t,n){},"268f":function(e,t,n){e.exports=n("fde4")},"32a6":function(e,t,n){var o=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(e){return r(o(e))}})},"454f":function(e,t,n){n("46a7");var o=n("584a").Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},"46a7":function(e,t,n){var o=n("63b6");o(o.S+o.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"859c":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Header",{style:{height:"42px"}},[n("div",{staticClass:"header-inner"},[n("div",{staticClass:"header-logo",class:e.side_width},[e.is_collapse?n("span",[n("Dropdown",{staticClass:"main-nav",attrs:{trigger:"click"},on:{"on-click":e.handleSelect}},[n("span",{staticClass:"ivu-dropdown-link"},[n("Icon",{attrs:{type:"md-menu"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e._l(e.nav_menu,function(t,o){return[n("DropdownItem",{attrs:{name:t.path}},[e._v(e._s(t.title))])]})],2)],1)],1):n("span",{staticClass:"logo"},[e._v("VueCMF")])]),e.is_collapse?n("div",{staticClass:"menu-nav"},[e._v("VueCMF")]):n("Menu",{staticClass:"menu-nav",attrs:{"active-name":e.active_menu_nav,mode:"horizontal",theme:"light"},on:{"on-select":e.handleSelect}},[e._l(e.nav_menu,function(t,o){return[n("MenuItem",{attrs:{name:t.id}},[e._v(e._s(t.title))])]})],2),n("Dropdown",{staticClass:"user-info",attrs:{trigger:"click",placement:"bottom-end"},on:{"on-click":e.userEvent}},[n("span",{staticClass:"ivu-dropdown-link user-face"},[n("Icon",{attrs:{type:"ios-contact"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",[e._v("账号："+e._s(e.user.username))]),n("DropdownItem",[e._v("角色："+e._s(e.user.role))]),n("DropdownItem",{attrs:{divided:"",name:"logout"}},[n("Icon",{attrs:{type:"md-power"}}),e._v(" 退出系统")],1)],1)],1)],1)])},r=[],a=(n("7f7f"),n("ac6a"),n("7618")),i=n("cebc"),s=n("2f62"),c={name:"vc-header",data:function(){return{nav_menu:{},user:{}}},computed:Object(i["a"])({},Object(s["c"])({is_collapse:function(e){return e.is_collapse},side_width:function(e){return e.side_width},active_menu_nav:function(e){return e.active_menu_nav}})),mounted:function(){var e=this;e.user=JSON.parse(e.$cookie.get("user")),this.$api.request("auth_menu_model","get_nav_menu","get").then(function(t){0==t.code?(e.nav_menu=t.data.nav_menu,e.$store.dispatch("setNavMenu",e.nav_menu)):1e3==t.code?e.$router.push({path:"/login"}):e.$Message.error(t.msg)})},methods:{userEvent:function(e){var t=this;"logout"==e&&t.$api.request("admin_model","logout","post").then(function(e){0==e.code?(t.$cookie.remove("token"),t.$cookie.remove("user"),t.$cookie.remove("server"),t.$Message.success(e.msg),window.sessionStorage.clear(),t.$store.dispatch("setNavTabsData",{currentNavTab:"welcome",navTabs:[{title:"系统首页",name:"welcome",closable:!1}]}),t.$router.push({path:"/login"})):t.$Message.error(e.msg)})},getMenuRouter:function(e,t,n){var o=this;if(void 0!=e){var r=function(r){var a=e[r];if(console.log(a),void 0!=a["children"])o.getMenuRouter(a["children"],t,n);else{if(""==a.component)return{v:void 0};var i={path:a.path,component:a.component,name:a.title,meta:{permission:a.permission,model:a.model_name,filter_field:a.filter_field,title:a.title,icon:a.icon,noCache:!0,topId:a.top_id,id:a.id}};if(void 0!=t){var s=!0;t.forEach(function(e,t){e.path!=a.path&&e.name!=a.title||(s=!1)}),s&&n.push(i)}else n.push(i)}};for(var i in e){var s=r(i);if("object"===Object(a["a"])(s))return s.v}}},handleSelect:function(e){var t=this,o=this.nav_menu[e];void 0==o&&(o=[]),o["active_header"]=e,t.$store.dispatch("setSideMenuData",o);var r=[],a=JSON.parse(window.sessionStorage.getItem("side_menu_router"));if(this.getMenuRouter(o["children"],a,r),r=this.$helper.mergeObj(a,r),r.length>0){window.sessionStorage.setItem("side_menu_router",JSON.stringify(r));var i=t.$router.options.routes[0].children,s=[];r.forEach(function(e,t){var o=!0;i.forEach(function(t,n){e.path!=t.path&&e.name!=t.name||(o=!1)}),o&&s.push({path:e.path,component:function(){return n("9dac")("./"+e.component)},name:e.name,meta:e.meta})}),s.length>0&&(t.$router.options.routes[0].children=s,t.$router.addRoutes(t.$router.options.routes))}}}},u=c,l=(n("974f"),n("0c7c")),f=Object(l["a"])(u,o,r,!1,null,null,null);t["default"]=f.exports},"85f2":function(e,t,n){e.exports=n("454f")},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},"974f":function(e,t,n){"use strict";var o=n("07d5"),r=n.n(o);r.a},a4bb:function(e,t,n){e.exports=n("8aae")},bf90:function(e,t,n){var o=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return r(o(e),t)}})},ce7e:function(e,t,n){var o=n("63b6"),r=n("584a"),a=n("294c");e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],i={};i[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",i)}},cebc:function(e,t,n){"use strict";var o=n("268f"),r=n.n(o),a=n("e265"),i=n.n(a),s=n("a4bb"),c=n.n(s),u=n("85f2"),l=n.n(u);function f(e,t,n){return t in e?l()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=c()(n);"function"===typeof i.a&&(o=o.concat(i()(n).filter(function(e){return r()(n,e).enumerable}))),o.forEach(function(t){f(e,t,n[t])})}return e}n.d(t,"a",function(){return d})},e265:function(e,t,n){e.exports=n("ed33")},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(e,t,n){n("bf90");var o=n("584a").Object;e.exports=function(e,t){return o.getOwnPropertyDescriptor(e,t)}}}]);
//# sourceMappingURL=chunk-4d79cb1e.b2ab9b75.js.map