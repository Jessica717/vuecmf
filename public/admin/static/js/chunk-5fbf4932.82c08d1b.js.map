{"version":3,"sources":["webpack:///./src/views/layout/components/navTabs.vue?c44f","webpack:///./src/views/layout/components/navTabs.vue?7de7","webpack:///./src/views/layout/components/navTabs.vue?f6a4","webpack:///src/views/layout/components/navTabs.vue","webpack:///./src/views/layout/components/navTabs.vue","webpack:///./node_modules/core-js/modules/es.array.filter.js"],"names":["component","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","removeTab","clickTab","model","value","callback","$$v","currentNavTab","expression","_l","item","index","key","name","title","closable","manageNavTabs","slot","_v","refresh","fullScreen","staticRenderFns","$","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length"],"mappings":"0GAAA,uBAAmnB,G,2CCAnnB,ICAya,G,wCC8Cza,CACE,KAAF,cACE,OAAF,WACE,KAHF,WAII,MAAJ,IAIE,SAAF,CACI,cAAJ,CACM,IAAN,WACQ,OAAR,6CAEM,IAAN,YACQ,KAAR,2CAGI,QAAJ,CACM,IAAN,WACQ,OAAR,uCAEM,IAAN,YACQ,KAAR,sCAKE,QAAF,CACI,cADJ,SACA,GACM,IAAN,eACA,qBAGA,IACM,EAAN,uBACA,aACU,EAAV,MAGM,IAAN,KACA,KACM,OAAN,GACQ,IAAR,aACU,EAAV,wBAAY,OAAZ,2BACU,MACF,IAAR,cACU,EAAV,wBAAY,OAAZ,2BACU,MACF,IAAR,gBACU,KAAV,aACU,KACA,MACF,IAAR,mBACU,EAAV,sBAAY,OAAZ,iCACU,MACF,QACE,EAAV,UACU,EAAV,EAAY,MAAZ,OAAY,KAAZ,UAAY,cAIZ,IACQ,KAAR,kCACU,cAAV,EACU,QAAV,IAEQ,KAAR,cAAU,KAAV,KAGM,KAAN,mCAII,SA9CJ,SA8CA,GAGM,KAAN,cAAQ,KAAR,IAEM,KAAN,mCAGI,UAtDJ,SAsDA,GACM,IAAN,eACA,qBAEA,OACQ,EAAR,uBACU,GAAV,YACY,IAAZ,iBACA,IACc,EAAd,YAMM,KAAN,cAAQ,KAAR,IAEM,IAAN,wBAAQ,OAAR,cAEM,KAAN,kCACQ,cAAR,EACQ,QAAR,IAGM,KAAN,mCAGI,QAjFJ,WAkFM,KAAN,UAEI,WApFJ,WAqFM,IAAN,2BACA,qGACA,UACQ,EAAR,Y,wBCzJIA,EAAY,YACd,GHTW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,gBAAgBR,EAAIS,UAAU,WAAWT,EAAIU,UAAUC,MAAM,CAACC,MAAOZ,EAAiB,cAAEa,SAAS,SAAUC,GAAMd,EAAIe,cAAcD,GAAKE,WAAW,kBAAkBhB,EAAIiB,GAAIjB,EAAW,kBAAWkB,EAAKC,GAAO,OAAOf,EAAG,UAAU,CAACgB,IAAIF,EAAKG,KAAKd,MAAM,CAAC,MAAQW,EAAKI,MAAM,KAAOJ,EAAKG,KAAK,SAAWH,EAAKK,eAAc,IAAI,KAAKnB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,QAAU,SAASC,GAAG,CAAC,WAAWR,EAAIwB,gBAAgB,CAACpB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,eAAe,GAAGH,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,QAAQkB,KAAK,QAAQ,CAACrB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,eAAe,CAACP,EAAI0B,GAAG,UAAUtB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,gBAAgB,CAACP,EAAI0B,GAAG,UAAUtB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,kBAAkB,CAACP,EAAI0B,GAAG,UAAUtB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,qBAAqB,CAACP,EAAI0B,GAAG,WAAWtB,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,cAAc,CAACP,EAAI0B,GAAG,WAAW,IAAI,GAAGtB,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAM,CAAC,MAAQ,MAAMC,GAAG,CAAC,MAAQR,EAAI2B,UAAU,CAACvB,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,iBAAiB,GAAGH,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAM,CAAC,MAAQ,iBAAiBC,GAAG,CAAC,MAAQR,EAAI4B,aAAa,CAACxB,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,0BAA0B,IAAI,OACv5C,IGUpBsB,EAEA,KACA,KACA,MAIa,UAAA9B,E,6CClBf,IAAI+B,EAAI,EAAQ,QACZC,EAAU,EAAQ,QAAgCC,OAClDC,EAA+B,EAAQ,QACvCC,EAA0B,EAAQ,QAElCC,EAAsBF,EAA6B,UAEnDG,EAAiBF,EAAwB,UAK7CJ,EAAE,CAAEO,OAAQ,QAASC,OAAMA,EAAOC,QAASJ,IAAwBC,GAAkB,CACnFJ,OAAQ,SAAgBQ,GACtB,OAAOT,EAAQ9B,KAAMuC,EAAYC,UAAUC,OAAS,EAAID,UAAU,e","file":"static/js/chunk-5fbf4932.82c08d1b.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--15-0!./navTabs.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--15-0!./navTabs.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav-tabs-container\"},[_c('div',{staticClass:\"nav-tabs\"},[_c('div',{staticClass:\"nav-tabs-inner\"},[_c('Tabs',{attrs:{\"type\":\"card\"},on:{\"on-tab-remove\":_vm.removeTab,\"on-click\":_vm.clickTab},model:{value:(_vm.currentNavTab),callback:function ($$v) {_vm.currentNavTab=$$v},expression:\"currentNavTab\"}},_vm._l((_vm.navTabs),function(item,index){return _c('TabPane',{key:item.name,attrs:{\"label\":item.title,\"name\":item.name,\"closable\":item.closable}})}),1)],1)]),_c('div',{staticClass:\"nav-tabs-btn\"},[_c('Dropdown',{attrs:{\"trigger\":\"click\"},on:{\"on-click\":_vm.manageNavTabs}},[_c('div',{staticClass:\"tab-btn more\"},[_c('Icon',{attrs:{\"type\":\"ios-more\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{attrs:{\"name\":\"close-left\"}},[_vm._v(\"关闭左边\")]),_c('DropdownItem',{attrs:{\"name\":\"close-right\"}},[_vm._v(\"关闭右边\")]),_c('DropdownItem',{attrs:{\"name\":\"close-current\"}},[_vm._v(\"关闭当前\")]),_c('DropdownItem',{attrs:{\"name\":\"close-no-current\"}},[_vm._v(\"关闭非当前\")]),_c('DropdownItem',{attrs:{\"name\":\"close-all\"}},[_vm._v(\"关闭全部\")])],1)],1),_c('div',{staticClass:\"tab-btn\",attrs:{\"title\":\"刷新\"},on:{\"click\":_vm.refresh}},[_c('Icon',{attrs:{\"type\":\"md-refresh\"}})],1),_c('div',{staticClass:\"tab-btn\",attrs:{\"title\":\"全屏（按ESC键退出全屏）\"},on:{\"click\":_vm.fullScreen}},[_c('Icon',{attrs:{\"type\":\"ios-desktop-outline\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--15-0!./navTabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--15-0!./navTabs.vue?vue&type=script&lang=js&\"","<template>\r\n    <!-- 标签页开始 -->\r\n    <div class=\"nav-tabs-container\">\r\n        <div class=\"nav-tabs\">\r\n            <div class=\"nav-tabs-inner\">\r\n                <Tabs v-model=\"currentNavTab\" type=\"card\"  @on-tab-remove=\"removeTab\" @on-click=\"clickTab\" >\r\n                        <TabPane\r\n                                v-for=\"(item, index) in navTabs\"\r\n                                :key=\"item.name\"\r\n                                :label=\"item.title\"\r\n                                :name=\"item.name\"\r\n                                :closable=\"item.closable\"\r\n                        >\r\n                        </TabPane>\r\n                </Tabs>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"nav-tabs-btn\">\r\n            <Dropdown @on-click=\"manageNavTabs\" trigger=\"click\">\r\n                <div class=\"tab-btn more\">\r\n                    <Icon type=\"ios-more\" />\r\n                </div>\r\n                <DropdownMenu slot=\"list\">\r\n                    <DropdownItem name=\"close-left\">关闭左边</DropdownItem>\r\n                    <DropdownItem name=\"close-right\">关闭右边</DropdownItem>\r\n                    <DropdownItem name=\"close-current\">关闭当前</DropdownItem>\r\n                    <DropdownItem name=\"close-no-current\">关闭非当前</DropdownItem>\r\n                    <DropdownItem name=\"close-all\">关闭全部</DropdownItem>\r\n                </DropdownMenu>\r\n            </Dropdown>\r\n\r\n            <div class=\"tab-btn\" @click=\"refresh\" title=\"刷新\"><Icon type=\"md-refresh\" /></div>\r\n            <div class=\"tab-btn\" @click=\"fullScreen\" title=\"全屏（按ESC键退出全屏）\"><Icon type=\"ios-desktop-outline\" /></div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n    <!-- 标签页结束 -->\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport Vue from 'vue'\r\n\r\nexport default {\r\n    name: 'vc-nav-tabs',\r\n    inject: ['reload'], //注入父组件provide中的reload函数\r\n    data(){\r\n        return {\r\n\r\n        }\r\n    },\r\n    computed:{\r\n        currentNavTab:{\r\n            get: function () {\r\n                return this.$store.state.navTabsData.currentNavTab\r\n            },\r\n            set: function(newCurrentNavTab) {\r\n                this.$store.state.navTabsData.currentNavTab = newCurrentNavTab\r\n            }\r\n        },\r\n        navTabs: {\r\n            get: function () {\r\n                return this.$store.state.navTabsData.navTabs\r\n            },\r\n            set: function (newNavTabs) {\r\n                this.$store.state.navTabsData.navTabs = newNavTabs\r\n            }\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        manageNavTabs(command) {\r\n            let tabs = this.navTabs;\r\n            let activeName = this.currentNavTab;\r\n            console.log(tabs)\r\n            console.log(activeName)\r\n            let current_index = 0; //当前标签页索引\r\n            tabs.forEach((tab, index) => {\r\n                if(tab.name === activeName){\r\n                    current_index = index\r\n                }\r\n            });\r\n            let is_remove = false\r\n            let navTabs = []\r\n            switch (command){\r\n                case 'close-left':\r\n                    navTabs = tabs.filter((tab,index) => (index >= current_index || tab.name == 'welcome'));\r\n                    break;\r\n                case 'close-right':\r\n                    navTabs = tabs.filter((tab,index) => (index <= current_index || tab.name == 'welcome'));\r\n                    break;\r\n                case 'close-current':\r\n                    this.removeTab(activeName)\r\n                    is_remove = true\r\n                    break;\r\n                case 'close-no-current':\r\n                    navTabs = tabs.filter(tab => (tab.name === activeName || tab.name == 'welcome'));\r\n                    break;\r\n                default:\r\n                    activeName = 'welcome';\r\n                    navTabs = [{title: '系统首页',name: 'welcome',closable: false}]\r\n\r\n            }\r\n\r\n            if(!is_remove){\r\n                this.$store.dispatch('setNavTabsData',{\r\n                    currentNavTab: activeName,\r\n                    navTabs: navTabs\r\n                })\r\n                this.$router.push({ path: activeName })\r\n            }\r\n\r\n            this.$emit('on-rest-side-menu-select')\r\n\r\n        },\r\n\r\n        clickTab(currentTabName){\r\n            //this.$store.dispatch('setNavTabs',currentTab)\r\n            console.log('$router = ', this.$router)\r\n            this.$router.push({ path:currentTabName })\r\n\r\n            this.$emit('on-rest-side-menu-select')\r\n\r\n        },\r\n        removeTab(targetName) {\r\n            let tabs = this.navTabs;\r\n            let activeName = this.currentNavTab;\r\n\r\n            if (activeName === targetName) {\r\n                tabs.forEach((tab, index) => {\r\n                    if (tab.name === targetName) {\r\n                        let nextTab = tabs[index + 1] || tabs[index - 1];\r\n                        if (nextTab) {\r\n                            activeName = nextTab.name;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            this.$router.push({ path:activeName })\r\n\r\n            let navTabs = tabs.filter(tab => tab.name !== targetName);\r\n\r\n            this.$store.dispatch('setNavTabsData',{\r\n                    currentNavTab: activeName,\r\n                    navTabs: navTabs\r\n            })\r\n\r\n            this.$emit('on-rest-side-menu-select')\r\n\r\n        },\r\n        refresh(){\r\n           this.reload()\r\n        },\r\n        fullScreen(){\r\n            let el = document.documentElement;\r\n            let rfs = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;\r\n            if(typeof rfs != \"undefined\" && rfs) {\r\n                rfs.call(el);\r\n            }\r\n            return;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~@/assets/style/admin-base.scss';\r\n\r\n/* 导航标签页 */\r\n.nav-tabs{ height: 32px !important;}\r\n.nav-tabs-container{\r\n    display: flex;\r\n    height: 36px;\r\n    padding-top: 4px;\r\n}\r\n\r\n.ivu-tabs-nav-container{\r\n    font-size: 12px !important;\r\n}\r\n\r\n.nav-tabs{\r\n    flex-grow: 1;\r\n    overflow: hidden;\r\n    background-color: #FFF;\r\n    height: $nav_tabs_height;\r\n}\r\n\r\n.nav-tabs-inner{\r\n    height: 33px;\r\n    border-bottom: 1px solid #CCC;\r\n    background-color: #F2F2F2;\r\n}\r\n\r\n.tab-btn{\r\n    flex-grow: 1;\r\n    color: #666;\r\n    cursor: pointer;\r\n    line-height:30px;\r\n    font-size: 20px;\r\n}\r\n\r\n.more{ padding: 0 5px; }\r\n\r\n.ivu-tabs-tab{\r\n    height: $nav_tabs_height;\r\n    line-height: 30px;\r\n}\r\n\r\n.ivu-tabs.ivu-tabs-card > .ivu-tabs-bar .ivu-tabs-tab{\r\n    line-height: 24px;\r\n}\r\n\r\n.nav-tabs-btn{\r\n    flex: 0 0 96px;\r\n    border: 1px solid #CCC;\r\n    background-color: #FFF;\r\n    border-top-left-radius: 4px;\r\n    text-align: center;\r\n    line-height: 32px;\r\n    display: flex;\r\n    height: 32px;\r\n}\r\n\r\n#tab-welcome{ border-left: 0; border-top-left-radius: 0;}\r\n\r\n</style>\r\n","import { render, staticRenderFns } from \"./navTabs.vue?vue&type=template&id=00602f7e&\"\nimport script from \"./navTabs.vue?vue&type=script&lang=js&\"\nexport * from \"./navTabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./navTabs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}