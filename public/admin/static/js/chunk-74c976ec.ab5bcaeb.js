(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-74c976ec"],{"3f39":function(e,t,i){},8081:function(e,t,i){"use strict";var r=i("3f39");i.n(r).a},be35:function(e,t,i){"use strict";i.r(t);var r=(i("b0c0"),i("5530")),s=i("50bb"),a=i("6690"),o=i("2f62"),l=(i("be3b"),{name:"list",components:{"vuecmf-table":s.a},data:function(){return{formTabs:[],current_id:"",category:[],height:300,width:800,serverUrl:"",uploadUrl:"",importUrl:"",uploadFileMaxSize:5120,editorConfig:{UEDITOR_HOME_URL:"NEditor/",autoHeightEnabled:!1,initialFrameHeight:300,initialFrameWidth:"100%",enableAutoSave:!1}}},computed:Object(r.a)({},Object(o.c)({side_collapse:function(e){return e.side_collapse}})),watch:{side_collapse:function(e){a.c(this,e,!0)}},created:function(){this.serverUrl=this.$api.getUrl(this.$route.meta.model,this.$route.meta.permission.list),this.uploadUrl=this.$api.getUrl(this.$route.meta.model,this.$route.meta.permission.upload),this.importUrl=this.$api.getUrl(this.$route.meta.model,this.$route.meta.permission.import)},mounted:function(){this.title=this.$route.name;var e=this;a.c(e,this.side_collapse,!0),e.$api.request(e.$route.meta.model,e.$route.meta.permission.category,"post").then((function(t){0==t.code?e.category=t.data:e.$Message.error(t.msg)}))},methods:{selectCategory:function(e,t){this.current_id=t.id,this.$refs.vcTable.currentPage=1,this.$refs.vcTable.filterForm[this.$route.meta.filter_field]=t.id,this.$refs.vcTable.cid=t.id,this.$refs.vcTable.refresh(t.id)},save:function(e){var t=this;t.$api.request(t.$route.meta.model,t.$route.meta.permission.save,"post",e).then((function(e){0==e.code?(t.$Message.success(e.msg),t.$refs.vcTable.refresh(),t.$refs.vcTable.dataForm[""+t.$route.meta.filter_field]=t.current_id):t.$Message.error(e.msg)}))},del:function(e){var t=this;t.$api.request(t.$route.meta.model,t.$route.meta.permission.del,"post",e).then((function(e){0==e.code?(t.$Message.success(e.msg),t.$refs.vcTable.currentPage=1,t.$refs.vcTable.refresh()):t.$Message.error(e.msg)}))}}}),c=(i("8081"),i("2877")),n=Object(c.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"category_list_box"},[i("div",{staticClass:"category_box",style:"height:"+(parseInt(e.height)+90)+"px"},[i("Tree",{attrs:{data:e.category},on:{"on-select-change":e.selectCategory}})],1),i("div",{staticClass:"list_box"},[i("vuecmf-table",{ref:"vcTable",attrs:{server:e.serverUrl,"import-server":e.importUrl,"upload-file-server":e.uploadUrl,"upload-file-max-size":e.uploadFileMaxSize,page:"page",limit:20,"show-del-btn":!0,"show-edit-btn":!0,"show-add-btn":!0,"operate-width":150,"form-label-width":100,"editor-config":e.editorConfig,width:e.width,height:e.height,"form-tabs":e.formTabs,"model-width":"80%","model-height":"90%"},on:{"on-add":e.save,"on-edit":e.save,"on-del":e.del}})],1)])])}),[],!1,null,"1cfceb26",null);t.default=n.exports}}]);
//# sourceMappingURL=chunk-74c976ec.ab5bcaeb.js.map