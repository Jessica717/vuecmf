(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1be260f6","chunk-63fc50da","chunk-4d79cb1e","chunk-722dd573","chunk-30648c0b","chunk-bf6861f8"],{"07d5":function(e,t,n){},"162e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",[n("vc-header"),n("Layout",[n("Sider",{attrs:{"hide-trigger":"",collapsible:"","collapsed-width":50},model:{value:e.side_collapse,callback:function(t){e.side_collapse=t},expression:"side_collapse"}},[n("div",{staticClass:"collapse-menu",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[n("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.side_collapse,expression:"!side_collapse"}],attrs:{type:"ios-log-in",title:"折叠"}}),n("Icon",{directives:[{name:"show",rawName:"v-show",value:e.side_collapse,expression:"side_collapse"}],attrs:{type:"ios-log-out",title:"展开"}})],1),n("vc-side-menu",{ref:"vc_side_menu",attrs:{"side-collapse":e.side_collapse}})],1),n("Layout",{staticClass:"main-content"},[n("div",{staticClass:"main-nav-tabs"},[n("vc-nav-tabs",{on:{"on-rest-side-menu-select":e.restSideMenuSelect}})],1),n("Content",{staticClass:"main-content-wrapper"},[n("router-view",{key:e.key})],1),n("Footer",{attrs:{height:"36px"}},[e._v("© VueCMF. Powered by "),n("a",{attrs:{target:"_blank",href:"http://www.vuecmf.com/"}},[e._v("vuecmf.com")])])],1)],1)],1)},o=[],s=(n("7f7f"),n("cebc")),i=n("859c"),r=n("1c05"),c=n("40e9"),u=n("6690"),l=n("2f62"),d={name:"layout",components:{"vc-header":i["default"],"vc-side-menu":r["default"],"vc-nav-tabs":c["default"]},data:function(){return{}},beforeMount:function(){window.addEventListener("resize",this.resize)},mounted:function(){this.resize();var e=this.$cookie.get("token");console.log("token="+e)},computed:Object(s["a"])({},Object(l["c"])({side_collapse:function(e){return e.side_collapse}}),Object(l["b"])({notSideCollapse:"notSideCollapse"}),{key:function(){return void 0!==this.$route.name?this.$route.name+new Date:this.$route+new Date}}),methods:{collapse:function(){this.$store.dispatch("toggleSideCollapse",this.notSideCollapse)},resize:function(){u["a"]()||u["b"]()?this.$store.dispatch("toggleCollapse",!0):this.$store.dispatch("toggleCollapse",!1)},restSideMenuSelect:function(){var e=this;this.$nextTick(function(){e.$refs.vc_side_menu.$refs.side_menu.updateOpened(),e.$refs.vc_side_menu.$refs.side_menu.updateActiveName()})}}},m=d,f=(n("5e47"),n("0c7c")),v=Object(f["a"])(m,a,o,!1,null,null,null);t["default"]=v.exports},"1c05":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Menu",{ref:"side_menu",class:e.menuitemClasses,attrs:{"active-name":e.active_side_menu,theme:"dark",width:"auto"},on:{"on-select":e.select}},[0==e.active_menu_nav?n("MenuItem",{attrs:{name:0,to:"welcome"}},[n("Icon",{attrs:{type:"ios-home"}}),n("span",[e._v("系统首页")])],1):e._e(),n("vc-side-menu-item",{attrs:{"side-collapse":e.sideCollapse,"menu-list":e.side_menu_data}})],1)],1)},o=[],s=n("cebc"),i=n("2f62"),r=n("4c5a"),c={name:"vc-side-menu",props:["sideCollapse"],components:{"vc-side-menu-item":r["default"]},data:function(){return{menuList:[{id:1,title:"aaa",icon:"ios-home-outline",path:"get_menu_tree"},{id:2,title:"bbb",icon:"ios-home-outline",children:[{id:21,title:"aaa2222",icon:"ios-home-outline",path:"article"},{id:22,title:"aaa3333",icon:"ios-home-outline",children:[{id:31,title:"333333333",icon:"ios-home-outline",path:"get_menu_tree"},{id:32,title:"4444444444",icon:"ios-home-outline",path:"article"}]},{id:23,title:"aaa4444",icon:"ios-home-outline",path:"get_menu_tree"}]},{id:3,title:"ccc",icon:"ios-home-outline",path:"article"}]}},computed:Object(s["a"])({},Object(i["c"])({side_menu_width:function(e){return e.side_menu_width},active_side_menu:function(e){return e.active_side_menu},side_menu_data:function(e){return e.side_menu_data},active_menu_nav:function(e){return e.active_menu_nav}}),{menuitemClasses:function(){return["menu-item",this.sideCollapse?"collapsed-menu":""]}}),mounted:function(){console.log(this.side_menu_data)},methods:{select:function(e){var t=this;console.log(e),console.log(this.active_side_menu),this.$nextTick(function(){t.$refs.side_menu.updateOpened(),t.$refs.side_menu.updateActiveName()})}}},u=c,l=(n("9d52"),n("0c7c")),d=Object(l["a"])(u,a,o,!1,null,null,null);t["default"]=d.exports},"231d":function(e,t,n){},"268f":function(e,t,n){e.exports=n("fde4")},2715:function(e,t,n){},3182:function(e,t,n){"use strict";var a=n("f0a4"),o=n.n(a);o.a},"32a6":function(e,t,n){var a=n("241e"),o=n("c3a1");n("ce7e")("keys",function(){return function(e){return o(a(e))}})},"40e9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-tabs-container"},[n("div",{staticClass:"nav-tabs"},[n("div",{staticClass:"nav-tabs-inner"},[n("Tabs",{attrs:{type:"card"},on:{"on-tab-remove":e.removeTab,"on-click":e.clickTab},model:{value:e.currentNavTab,callback:function(t){e.currentNavTab=t},expression:"currentNavTab"}},e._l(e.navTabs,function(e,t){return n("TabPane",{key:e.name,attrs:{label:e.title,name:e.name,closable:e.closable}})}),1)],1)]),n("div",{staticClass:"nav-tabs-btn"},[n("Dropdown",{attrs:{trigger:"click"},on:{"on-click":e.manageNavTabs}},[n("div",{staticClass:"tab-btn more"},[n("Icon",{attrs:{type:"ios-more"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"close-left"}},[e._v("关闭左边")]),n("DropdownItem",{attrs:{name:"close-right"}},[e._v("关闭右边")]),n("DropdownItem",{attrs:{name:"close-current"}},[e._v("关闭当前")]),n("DropdownItem",{attrs:{name:"close-no-current"}},[e._v("关闭非当前")]),n("DropdownItem",{attrs:{name:"close-all"}},[e._v("关闭全部")])],1)],1),n("div",{staticClass:"tab-btn",attrs:{title:"刷新"},on:{click:e.refresh}},[n("Icon",{attrs:{type:"md-refresh"}})],1),n("div",{staticClass:"tab-btn",attrs:{title:"全屏（按ESC键退出全屏）"},on:{click:e.fullScreen}},[n("Icon",{attrs:{type:"ios-desktop-outline"}})],1)],1)])},o=[],s=(n("7f7f"),n("ac6a"),n("2f62"),{name:"vc-nav-tabs",inject:["reload"],data:function(){return{}},computed:{currentNavTab:{get:function(){return this.$store.state.navTabsData.currentNavTab},set:function(e){this.$store.state.navTabsData.currentNavTab=e}},navTabs:{get:function(){return this.$store.state.navTabsData.navTabs},set:function(e){this.$store.state.navTabsData.navTabs=e}}},methods:{manageNavTabs:function(e){var t=this.navTabs,n=this.currentNavTab;console.log(t),console.log(n);var a=0;t.forEach(function(e,t){e.name===n&&(a=t)});var o=!1,s=[];switch(e){case"close-left":s=t.filter(function(e,t){return t>=a||"welcome"==e.name});break;case"close-right":s=t.filter(function(e,t){return t<=a||"welcome"==e.name});break;case"close-current":this.removeTab(n),o=!0;break;case"close-no-current":s=t.filter(function(e){return e.name===n||"welcome"==e.name});break;default:n="welcome",s=[{title:"系统首页",name:"welcome",closable:!1}]}o||(this.$store.dispatch("setNavTabsData",{currentNavTab:n,navTabs:s}),this.$router.push({path:n})),this.$emit("on-rest-side-menu-select")},clickTab:function(e){this.$router.push({path:e}),this.$emit("on-rest-side-menu-select")},removeTab:function(e){var t=this.navTabs,n=this.currentNavTab;n===e&&t.forEach(function(a,o){if(a.name===e){var s=t[o+1]||t[o-1];s&&(n=s.name)}}),this.$router.push({path:n});var a=t.filter(function(t){return t.name!==e});this.$store.dispatch("setNavTabsData",{currentNavTab:n,navTabs:a}),this.$emit("on-rest-side-menu-select")},refresh:function(){this.reload()},fullScreen:function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;"undefined"!=typeof t&&t&&t.call(e)}}}),i=s,r=(n("3182"),n("0c7c")),c=Object(r["a"])(i,a,o,!1,null,null,null);t["default"]=c.exports},"454f":function(e,t,n){n("46a7");var a=n("584a").Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},"46a7":function(e,t,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"4c5a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.sideCollapse?[e._l(e.menuList,function(t,a){return[void 0!=t.children?n("Dropdown",{attrs:{placement:"right-start"},on:{"on-click":e.toPath}},[n("MenuItem",{attrs:{name:t.id}},[void 0!=t.icon?n("Icon",{attrs:{type:t.icon}}):e._e()],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("vc-side-dropdown-menu",{attrs:{"menu-list":t.children}})],1)],1):n("Tooltip",{attrs:{content:t.title,placement:"right"}},[n("MenuItem",{attrs:{name:t.id,to:{path:t.path}}},[void 0!=t.icon?n("Icon",{attrs:{type:t.icon}}):e._e()],1)],1)]})]:[e._l(e.menuList,function(t,a){return[void 0!=t.children?n("Submenu",{attrs:{name:t.id}},[n("template",{slot:"title"},[void 0!=t.icon?n("Icon",{attrs:{type:t.icon}}):e._e(),e._v("\n                    "+e._s(t.title)+"\n                ")],1),n("vc-side-menu-item",{attrs:{"side-collapse":e.sideCollapse,"menu-list":t.children}})],2):n("MenuItem",{attrs:{name:t.id,to:{path:t.path}}},[void 0!=t.icon?n("Icon",{attrs:{type:t.icon}}):e._e(),e._v(e._s(t.title))],1)]})]],2)},o=[],s=n("873f"),i={name:"vc-side-menu-item",props:["sideCollapse","menuList"],components:{"vc-side-dropdown-menu":s["default"]},data:function(){return{}},methods:{toPath:function(e){this.$router.push({path:e})}}},r=i,c=n("0c7c"),u=Object(c["a"])(r,a,o,!1,null,null,null);t["default"]=u.exports},"549a":function(e,t,n){"use strict";var a=n("2715"),o=n.n(a);o.a},"5e47":function(e,t,n){"use strict";var a=n("d32e"),o=n.n(a);o.a},6690:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r});var a=576,o=768;function s(){var e=document.body.getBoundingClientRect();return e.width<=a}function i(){var e=document.body.getBoundingClientRect();return e.width>a&&e.width<=o}function r(e,t,n){var a=220;1==t&&(a=70);var o=document.documentElement.clientWidth-a,s=document.documentElement.clientHeight-240;1==n&&(o-=160),e.height=s,e.width=o}},"859c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Header",{style:{height:"42px"}},[n("div",{staticClass:"header-inner"},[n("div",{staticClass:"header-logo",class:e.side_width},[e.is_collapse?n("span",[n("Dropdown",{staticClass:"main-nav",attrs:{trigger:"click"},on:{"on-click":e.handleSelect}},[n("span",{staticClass:"ivu-dropdown-link"},[n("Icon",{attrs:{type:"md-menu"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e._l(e.nav_menu,function(t,a){return[n("DropdownItem",{attrs:{name:t.path}},[e._v(e._s(t.title))])]})],2)],1)],1):n("span",{staticClass:"logo"},[e._v("VueCMF")])]),e.is_collapse?n("div",{staticClass:"menu-nav"},[e._v("VueCMF")]):n("Menu",{staticClass:"menu-nav",attrs:{"active-name":e.active_menu_nav,mode:"horizontal",theme:"light"},on:{"on-select":e.handleSelect}},[e._l(e.nav_menu,function(t,a){return[n("MenuItem",{attrs:{name:t.id}},[e._v(e._s(t.title))])]})],2),n("Dropdown",{staticClass:"user-info",attrs:{trigger:"click",placement:"bottom-end"},on:{"on-click":e.userEvent}},[n("span",{staticClass:"ivu-dropdown-link user-face"},[n("Icon",{attrs:{type:"ios-contact"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",[e._v("账号："+e._s(e.user.username))]),n("DropdownItem",[e._v("角色："+e._s(e.user.role))]),n("DropdownItem",{attrs:{divided:"",name:"logout"}},[n("Icon",{attrs:{type:"md-power"}}),e._v(" 退出系统")],1)],1)],1)],1)])},o=[],s=(n("7f7f"),n("ac6a"),n("7618")),i=n("cebc"),r=n("2f62"),c={name:"vc-header",data:function(){return{nav_menu:{},user:{}}},computed:Object(i["a"])({},Object(r["c"])({is_collapse:function(e){return e.is_collapse},side_width:function(e){return e.side_width},active_menu_nav:function(e){return e.active_menu_nav}})),mounted:function(){var e=this;e.user=JSON.parse(e.$cookie.get("user")),this.$api.request("auth_menu_model","get_nav_menu","get").then(function(t){0==t.code?(e.nav_menu=t.data.nav_menu,e.$store.dispatch("setNavMenu",e.nav_menu)):1e3==t.code?e.$router.push({path:"/login"}):e.$Message.error(t.msg)})},methods:{userEvent:function(e){var t=this;"logout"==e&&t.$api.request("admin_model","logout","post").then(function(e){0==e.code?(t.$cookie.remove("token"),t.$cookie.remove("user"),t.$cookie.remove("server"),t.$Message.success(e.msg),window.sessionStorage.clear(),t.$store.dispatch("setNavTabsData",{currentNavTab:"welcome",navTabs:[{title:"系统首页",name:"welcome",closable:!1}]}),t.$router.push({path:"/login"})):t.$Message.error(e.msg)})},getMenuRouter:function(e,t,n){var a=this;if(void 0!=e){var o=function(o){var s=e[o];if(console.log(s),void 0!=s["children"])a.getMenuRouter(s["children"],t,n);else{if(""==s.component)return{v:void 0};var i={path:s.path,component:s.component,name:s.title,meta:{permission:s.permission,model:s.model_name,filter_field:s.filter_field,title:s.title,icon:s.icon,noCache:!0,topId:s.top_id,id:s.id}};if(void 0!=t){var r=!0;t.forEach(function(e,t){e.path!=s.path&&e.name!=s.title||(r=!1)}),r&&n.push(i)}else n.push(i)}};for(var i in e){var r=o(i);if("object"===Object(s["a"])(r))return r.v}}},handleSelect:function(e){var t=this,a=this.nav_menu[e];void 0==a&&(a=[]),a["active_header"]=e,t.$store.dispatch("setSideMenuData",a);var o=[],s=JSON.parse(window.sessionStorage.getItem("side_menu_router"));if(this.getMenuRouter(a["children"],s,o),o=this.$helper.mergeObj(s,o),o.length>0){window.sessionStorage.setItem("side_menu_router",JSON.stringify(o));var i=t.$router.options.routes[0].children,r=[];o.forEach(function(e,t){var a=!0;i.forEach(function(t,n){e.path!=t.path&&e.name!=t.name||(a=!1)}),a&&r.push({path:e.path,component:function(){return n("9dac")("./"+e.component)},name:e.name,meta:e.meta})}),r.length>0&&(t.$router.options.routes[0].children=r,t.$router.addRoutes(t.$router.options.routes))}}}},u=c,l=(n("974f"),n("0c7c")),d=Object(l["a"])(u,a,o,!1,null,null,null);t["default"]=d.exports},"85f2":function(e,t,n){e.exports=n("454f")},"873f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.menuList,function(t,a){return[void 0!=t.children?n("Dropdown",{attrs:{placement:"right-start"}},[n("DropdownItem",[e._v(e._s(t.title)),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("vc-side-dropdown-menu",{attrs:{"menu-list":t.children}})],1)],1):n("DropdownItem",{ref:t.path,refInFor:!0,attrs:{name:t.path}},[e._v(e._s(t.title))])]})],2)},o=[],s={name:"vc-side-dropdown-menu",props:["menuList"]},i=s,r=(n("549a"),n("0c7c")),c=Object(r["a"])(i,a,o,!1,null,"6eb6bd08",null);t["default"]=c.exports},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},"974f":function(e,t,n){"use strict";var a=n("07d5"),o=n.n(a);o.a},"9d52":function(e,t,n){"use strict";var a=n("231d"),o=n.n(a);o.a},a4bb:function(e,t,n){e.exports=n("8aae")},bf90:function(e,t,n){var a=n("36c3"),o=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return o(a(e),t)}})},ce7e:function(e,t,n){var a=n("63b6"),o=n("584a"),s=n("294c");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),a(a.S+a.F*s(function(){n(1)}),"Object",i)}},cebc:function(e,t,n){"use strict";var a=n("268f"),o=n.n(a),s=n("e265"),i=n.n(s),r=n("a4bb"),c=n.n(r),u=n("85f2"),l=n.n(u);function d(e,t,n){return t in e?l()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=c()(n);"function"===typeof i.a&&(a=a.concat(i()(n).filter(function(e){return o()(n,e).enumerable}))),a.forEach(function(t){d(e,t,n[t])})}return e}n.d(t,"a",function(){return m})},d32e:function(e,t,n){},e265:function(e,t,n){e.exports=n("ed33")},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},f0a4:function(e,t,n){},fde4:function(e,t,n){n("bf90");var a=n("584a").Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}}}]);
//# sourceMappingURL=chunk-1be260f6.761a4e83.js.map