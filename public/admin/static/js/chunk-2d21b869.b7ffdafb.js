(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d21b869"],{bfc2:function(e,t,s){"use strict";s.r(t);var i=(s("b0c0"),s("ac1f"),s("5319"),s("5530")),o=s("50bb"),r=s("6690"),a=s("2f62"),l=(s("be3b"),{name:"list",components:{"vuecmf-table":o.a},data:function(){return{formTabs:[],height:300,width:800,serverUrl:"",uploadUrl:"",importUrl:"",uploadFileMaxSize:5120,show_add_btn:!0,show_edit_btn:!0,show_del_btn:!0,serverAxios:axios,editorConfig:{UEDITOR_HOME_URL:"NEditor/",autoHeightEnabled:!1,initialFrameHeight:300,initialFrameWidth:"100%",enableAutoSave:!1,zIndex:9e3}}},computed:Object(i.a)({},Object(a.c)({side_collapse:function(e){return e.side_collapse}})),watch:{side_collapse:function(e){r.c(this,e)}},created:function(){this.serverUrl=this.$api.getUrl(this.$route.meta.model,this.$route.meta.permission.list),this.uploadUrl=this.$api.getUrl(this.$route.meta.model,this.$route.meta.permission.upload),this.importUrl=this.$api.getUrl(this.$route.meta.model,this.$route.meta.permission.import)},mounted:function(){this.$cookie.get("token");this.title=this.$route.name;var e=this.$route.meta.model.replace("_model","");this.show_add_btn=this.$helper.getBtnAuth("show_add_"+e+"_btn",this.$route.meta.permission),void 0===this.$route.meta.permission.save&&(this.show_edit_btn=!1),void 0===this.$route.meta.permission.del&&(this.show_del_btn=!1),r.c(this,this.side_collapse),"single_list"==e?(this.formTabs[0]=[],this.formTabs[0].tab_name="基本信息",this.formTabs[0].tab_fields=["title","tag","status"],this.formTabs[1]=[],this.formTabs[1].tab_name="内容",this.formTabs[1].tab_fields=["detail"]):"collect"==e&&(this.show_edit_btn=!1,this.show_del_btn=!1)},methods:{save:function(e){var t=this;void 0===t.$route.meta.permission.save?t.$Message.error("对不起！您没有此保存数据权限。"):t.$api.request(t.$route.meta.model,t.$route.meta.permission.save,"post",e).then((function(e){0==e.code?(t.$Message.success(e.msg),t.$refs.vcTable.refresh()):t.$Message.error(e.msg)}))},del:function(e){var t=this;void 0===t.$route.meta.permission.del?t.$Message.error("对不起！您没有此删除权限。"):t.$api.request(t.$route.meta.model,t.$route.meta.permission.del,"post",e).then((function(e){0==e.code?(t.$Message.success(e.msg),t.$refs.vcTable.refresh()):t.$Message.error(e.msg)}))}}}),n=s("2877"),d=Object(n.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("vuecmf-table",{ref:"vcTable",attrs:{server:e.serverUrl,"import-server":e.importUrl,"upload-file-server":e.uploadUrl,"upload-file-max-size":e.uploadFileMaxSize,page:"page",limit:20,"show-del-btn":e.show_del_btn,"show-edit-btn":e.show_edit_btn,"show-add-btn":e.show_add_btn,"operate-width":150,"form-label-width":100,"editor-config":e.editorConfig,width:e.width,height:e.height,"model-width":"80%","model-height":"90%","form-tabs":e.formTabs},on:{"on-add":e.save,"on-edit":e.save,"on-del":e.del},scopedSlots:e._u([{key:"headerAction",fn:function(){},proxy:!0}])})],1)}),[],!1,null,null,null);t.default=d.exports}}]);
//# sourceMappingURL=chunk-2d21b869.b7ffdafb.js.map