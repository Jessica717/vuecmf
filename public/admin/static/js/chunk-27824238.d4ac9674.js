(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-27824238","chunk-38baadc8","chunk-660c2bd2","chunk-5fbf4932","chunk-8eecbb9a","chunk-42912b06"],{"162e":function(e,t,n){"use strict";n.r(t);var a=(n("b0c0"),n("5530")),s=n("859c"),i=n("1c05"),o=n("40e9"),r=n("6690"),c=n("2f62"),u={name:"layout",components:{"vc-header":s.default,"vc-side-menu":i.default,"vc-nav-tabs":o.default},data:function(){return{}},beforeMount:function(){window.addEventListener("resize",this.resize)},mounted:function(){this.resize();this.$cookie.get("token")},computed:Object(a.a)(Object(a.a)(Object(a.a)({},Object(c.c)({side_collapse:function(e){return e.side_collapse}})),Object(c.b)({notSideCollapse:"notSideCollapse"})),{},{key:function(){return void 0!==this.$route.name?this.$route.name+new Date:this.$route+new Date}}),methods:{collapse:function(){this.$store.dispatch("toggleSideCollapse",this.notSideCollapse)},resize:function(){r.a()||r.b()?this.$store.dispatch("toggleCollapse",!0):this.$store.dispatch("toggleCollapse",!1)},restSideMenuSelect:function(){var e=this;this.$nextTick((function(){e.$refs.vc_side_menu.$refs.side_menu.updateOpened(),e.$refs.vc_side_menu.$refs.side_menu.updateActiveName()}))}}},l=(n("5e47"),n("2877")),d=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",[n("vc-header"),n("Layout",[n("Sider",{attrs:{"hide-trigger":"",collapsible:"","collapsed-width":50},model:{value:e.side_collapse,callback:function(t){e.side_collapse=t},expression:"side_collapse"}},[n("div",{staticClass:"collapse-menu",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[n("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.side_collapse,expression:"!side_collapse"}],attrs:{type:"ios-log-in",title:"折叠"}}),n("Icon",{directives:[{name:"show",rawName:"v-show",value:e.side_collapse,expression:"side_collapse"}],attrs:{type:"ios-log-out",title:"展开"}})],1),n("vc-side-menu",{ref:"vc_side_menu",attrs:{"side-collapse":e.side_collapse}})],1),n("Layout",{staticClass:"main-content"},[n("div",{staticClass:"main-nav-tabs"},[n("vc-nav-tabs",{on:{"on-rest-side-menu-select":e.restSideMenuSelect}})],1),n("Content",{staticClass:"main-content-wrapper"},[n("router-view",{key:e.key})],1),n("Footer",{attrs:{height:"36px"}},[e._v("© VueCMF. Powered by "),n("a",{attrs:{target:"_blank",href:"http://www.vuecmf.com/"}},[e._v("vuecmf.com")])])],1)],1)],1)}),[],!1,null,null,null);t.default=d.exports},"1c05":function(e,t,n){"use strict";n.r(t);var a=n("5530"),s=n("2f62"),i={name:"vc-side-menu",props:["sideCollapse"],components:{"vc-side-menu-item":n("4c5a").default},data:function(){return{menuList:[{id:1,title:"aaa",icon:"ios-home-outline",path:"get_menu_tree"},{id:2,title:"bbb",icon:"ios-home-outline",children:[{id:21,title:"aaa2222",icon:"ios-home-outline",path:"article"},{id:22,title:"aaa3333",icon:"ios-home-outline",children:[{id:31,title:"333333333",icon:"ios-home-outline",path:"get_menu_tree"},{id:32,title:"4444444444",icon:"ios-home-outline",path:"article"}]},{id:23,title:"aaa4444",icon:"ios-home-outline",path:"get_menu_tree"}]},{id:3,title:"ccc",icon:"ios-home-outline",path:"article"}]}},computed:Object(a.a)(Object(a.a)({},Object(s.c)({side_menu_width:function(e){return e.side_menu_width},active_side_menu:function(e){return e.active_side_menu},side_menu_data:function(e){return e.side_menu_data},active_menu_nav:function(e){return e.active_menu_nav}})),{},{menuitemClasses:function(){return["menu-item",this.sideCollapse?"collapsed-menu":""]}}),mounted:function(){},methods:{select:function(e){var t=this;this.$nextTick((function(){t.$refs.side_menu.updateOpened(),t.$refs.side_menu.updateActiveName()}))}}},o=(n("9d52"),n("2877")),r=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Menu",{ref:"side_menu",class:e.menuitemClasses,attrs:{"active-name":e.active_side_menu,theme:"dark",width:"auto"},on:{"on-select":e.select}},[0==e.active_menu_nav?n("MenuItem",{attrs:{name:0,to:"welcome"}},[n("Icon",{attrs:{type:"ios-home"}}),n("span",[e._v("系统首页")])],1):e._e(),n("vc-side-menu-item",{attrs:{"side-collapse":e.sideCollapse,"menu-list":e.side_menu_data}})],1)],1)}),[],!1,null,null,null);t.default=r.exports},3182:function(e,t,n){"use strict";var a=n("94fc");n.n(a).a},"40e9":function(e,t,n){"use strict";n.r(t);var a=(n("4de4"),n("4160"),n("b0c0"),n("159b"),{name:"vc-nav-tabs",inject:["reload"],data:function(){return{}},computed:{currentNavTab:{get:function(){return this.$store.state.navTabsData.currentNavTab},set:function(e){this.$store.state.navTabsData.currentNavTab=e}},navTabs:{get:function(){return this.$store.state.navTabsData.navTabs},set:function(e){this.$store.state.navTabsData.navTabs=e}}},methods:{manageNavTabs:function(e){var t=this.navTabs,n=this.currentNavTab,a=0;t.forEach((function(e,t){e.name===n&&(a=t)}));var s=!1,i=[];switch(e){case"close-left":i=t.filter((function(e,t){return t>=a||"welcome"==e.name}));break;case"close-right":i=t.filter((function(e,t){return t<=a||"welcome"==e.name}));break;case"close-current":this.removeTab(n),s=!0;break;case"close-no-current":i=t.filter((function(e){return e.name===n||"welcome"==e.name}));break;default:n="welcome",i=[{title:"系统首页",name:"welcome",closable:!1}]}s||(this.$store.dispatch("setNavTabsData",{currentNavTab:n,navTabs:i}),this.$router.push({path:n})),this.$emit("on-rest-side-menu-select")},clickTab:function(e){this.$router.push({path:e}),this.$emit("on-rest-side-menu-select")},removeTab:function(e){var t=this.navTabs,n=this.currentNavTab;n===e&&t.forEach((function(a,s){if(a.name===e){var i=t[s+1]||t[s-1];i&&(n=i.name)}})),this.$router.push({path:n});var a=t.filter((function(t){return t.name!==e}));this.$store.dispatch("setNavTabsData",{currentNavTab:n,navTabs:a}),this.$emit("on-rest-side-menu-select")},refresh:function(){this.reload()},fullScreen:function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;void 0!==t&&t&&t.call(e)}}}),s=(n("3182"),n("2877")),i=Object(s.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-tabs-container"},[n("div",{staticClass:"nav-tabs"},[n("div",{staticClass:"nav-tabs-inner"},[n("Tabs",{attrs:{type:"card"},on:{"on-tab-remove":e.removeTab,"on-click":e.clickTab},model:{value:e.currentNavTab,callback:function(t){e.currentNavTab=t},expression:"currentNavTab"}},e._l(e.navTabs,(function(e,t){return n("TabPane",{key:e.name,attrs:{label:e.title,name:e.name,closable:e.closable}})})),1)],1)]),n("div",{staticClass:"nav-tabs-btn"},[n("Dropdown",{attrs:{trigger:"click"},on:{"on-click":e.manageNavTabs}},[n("div",{staticClass:"tab-btn more"},[n("Icon",{attrs:{type:"ios-more"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"close-left"}},[e._v("关闭左边")]),n("DropdownItem",{attrs:{name:"close-right"}},[e._v("关闭右边")]),n("DropdownItem",{attrs:{name:"close-current"}},[e._v("关闭当前")]),n("DropdownItem",{attrs:{name:"close-no-current"}},[e._v("关闭非当前")]),n("DropdownItem",{attrs:{name:"close-all"}},[e._v("关闭全部")])],1)],1),n("div",{staticClass:"tab-btn",attrs:{title:"刷新"},on:{click:e.refresh}},[n("Icon",{attrs:{type:"md-refresh"}})],1),n("div",{staticClass:"tab-btn",attrs:{title:"全屏（按ESC键退出全屏）"},on:{click:e.fullScreen}},[n("Icon",{attrs:{type:"ios-desktop-outline"}})],1)],1)])}),[],!1,null,null,null);t.default=i.exports},"4c5a":function(e,t,n){"use strict";n.r(t);var a={name:"vc-side-menu-item",props:["sideCollapse","menuList"],components:{"vc-side-dropdown-menu":n("873f").default},data:function(){return{}},methods:{toPath:function(e){this.$router.push({path:e})}}},s=n("2877"),i=Object(s.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.sideCollapse?[e._l(e.menuList,(function(t,a){return[null!=t.children?n("Dropdown",{attrs:{placement:"right-start"},on:{"on-click":e.toPath}},[n("MenuItem",{attrs:{name:t.id}},[null!=t.icon?n("Icon",{attrs:{type:t.icon}}):e._e()],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("vc-side-dropdown-menu",{attrs:{"menu-list":t.children}})],1)],1):n("Tooltip",{attrs:{content:t.title,placement:"right"}},[n("MenuItem",{attrs:{name:t.id,to:{path:t.path}}},[null!=t.icon?n("Icon",{attrs:{type:t.icon}}):e._e()],1)],1)]}))]:[e._l(e.menuList,(function(t,a){return[null!=t.children?n("Submenu",{attrs:{name:t.id}},[n("template",{slot:"title"},[null!=t.icon?n("Icon",{attrs:{type:t.icon}}):e._e(),e._v(" "+e._s(t.title)+" ")],1),n("vc-side-menu-item",{attrs:{"side-collapse":e.sideCollapse,"menu-list":t.children}})],2):n("MenuItem",{attrs:{name:t.id,to:{path:t.path}}},[null!=t.icon?n("Icon",{attrs:{type:t.icon}}):e._e(),e._v(e._s(t.title))],1)]}))]],2)}),[],!1,null,null,null);t.default=i.exports},"4de4":function(e,t,n){"use strict";var a=n("23e7"),s=n("b727").filter,i=n("1dde"),o=n("ae40"),r=i("filter"),c=o("filter");a({target:"Array",proto:!0,forced:!r||!c},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"549a":function(e,t,n){"use strict";var a=n("9fbb");n.n(a).a},5530:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return i})),n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b")},"5e47":function(e,t,n){"use strict";var a=n("8e12");n.n(a).a},6690:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));function a(){return document.body.getBoundingClientRect().width<=576}function s(){var e=document.body.getBoundingClientRect();return e.width>576&&e.width<=768}function i(e,t,n){var a=220;1==t&&(a=70);var s=document.documentElement.clientWidth-a,i=document.documentElement.clientHeight-240;1==n&&(s-=160),e.height=i,e.width=s}},"6ad5":function(e,t,n){},"859c":function(e,t,n){"use strict";n.r(t);var a=(n("4160"),n("b0c0"),n("d3b7"),n("159b"),n("53ca")),s=n("5530"),i=n("2f62"),o={name:"vc-header",data:function(){return{nav_menu:{},user:{}}},computed:Object(s.a)({},Object(i.c)({is_collapse:function(e){return e.is_collapse},side_width:function(e){return e.side_width},active_menu_nav:function(e){return e.active_menu_nav}})),mounted:function(){var e=this;e.user=JSON.parse(e.$cookie.get("user")),this.$api.request("auth_menu_model","get_nav_menu","get").then((function(t){0==t.code?(e.nav_menu=t.data.nav_menu,e.$store.dispatch("setNavMenu",e.nav_menu)):1e3==t.code?e.$router.push({path:"/login"}):e.$Message.error(t.msg)}))},methods:{userEvent:function(e){var t=this;"logout"==e?t.$api.request("admin_model","logout","post").then((function(e){0==e.code?(t.$cookie.remove("token"),t.$cookie.remove("user"),t.$cookie.remove("server"),t.$Message.success(e.msg),window.sessionStorage.clear(),t.$store.dispatch("setNavTabsData",{currentNavTab:"welcome",navTabs:[{title:"系统首页",name:"welcome",closable:!1}]}),t.$router.push({path:"/login"})):t.$Message.error(e.msg)})):"change_backend_en"==e?t.$api.axios_request("/welcome/lang","get",{lang:"en-us"}).then((function(e){0==e.code?t.lang=e.data.lang:t.$Message.error(e.msg)})):"change_backend_es"==e&&t.$api.axios_request("/welcome/lang","get",{lang:"es-mx"}).then((function(e){0==e.code?t.lang=e.data.lang:t.$Message.error(e.msg)}))},getMenuRouter:function(e,t,n){var s=this;if(null!=e){var i=function(a){var i=e[a];if(null!=i.children)s.getMenuRouter(i.children,t,n);else{if(""==i.component)return{v:void 0};var o={path:i.path,component:i.component,name:i.title,meta:{permission:i.permission,model:i.model_name,filter_field:i.filter_field,title:i.title,icon:i.icon,noCache:!0,topId:i.top_id,id:i.id}};if(null!=t){var r=!0;t.forEach((function(e,t){e.path!=i.path&&e.name!=i.title||(r=!1)})),r&&n.push(o)}else n.push(o)}};for(var o in e){var r=i(o);if("object"===Object(a.a)(r))return r.v}}},handleSelect:function(e){var t=this,a=this.nav_menu[e];null==a&&(a=[]),a.active_header=e,t.$store.dispatch("setSideMenuData",a);var s=[],i=JSON.parse(window.sessionStorage.getItem("side_menu_router"));if(this.getMenuRouter(a.children,i,s),(s=this.$helper.mergeObj(i,s)).length>0){window.sessionStorage.setItem("side_menu_router",JSON.stringify(s));var o=t.$router.options.routes[0].children,r=[];s.forEach((function(e,t){var a=!0;o.forEach((function(t,n){e.path!=t.path&&e.name!=t.name||(a=!1)})),a&&r.push({path:e.path,component:function(){return n("9dac")("./"+e.component)},name:e.name,meta:e.meta})})),r.length>0&&(t.$router.options.routes[0].children=r,t.$router.addRoutes(t.$router.options.routes))}}}},r=(n("974f"),n("2877")),c=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Header",{style:{height:"42px"}},[n("div",{staticClass:"header-inner"},[n("div",{staticClass:"header-logo",class:e.side_width},[e.is_collapse?n("span",[n("Dropdown",{staticClass:"main-nav",attrs:{trigger:"click"},on:{"on-click":e.handleSelect}},[n("span",{staticClass:"ivu-dropdown-link"},[n("Icon",{attrs:{type:"md-menu"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e._l(e.nav_menu,(function(t,a){return[n("DropdownItem",{attrs:{name:t.path}},[e._v(e._s(t.title))])]}))],2)],1)],1):n("span",{staticClass:"logo"},[e._v("VueCMF")])]),e.is_collapse?n("div",{staticClass:"menu-nav"},[e._v("VueCMF")]):n("Menu",{staticClass:"menu-nav",attrs:{"active-name":e.active_menu_nav,mode:"horizontal",theme:"light"},on:{"on-select":e.handleSelect}},[e._l(e.nav_menu,(function(t,a){return[n("MenuItem",{attrs:{name:t.id}},[e._v(e._s(t.title))])]}))],2),n("Dropdown",{staticClass:"user-info",attrs:{trigger:"click",placement:"bottom-end"},on:{"on-click":e.userEvent}},[n("span",{staticClass:"ivu-dropdown-link user-face"},[n("Icon",{attrs:{type:"ios-contact"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",[e._v("账号："+e._s(e.user.username))]),n("DropdownItem",[e._v("角色："+e._s(e.user.role))]),n("DropdownItem",{attrs:{divided:"",name:"logout"}},[n("Icon",{attrs:{type:"md-power"}}),e._v(" 退出系统")],1)],1)],1)],1)])}),[],!1,null,null,null);t.default=c.exports},"873f":function(e,t,n){"use strict";n.r(t);var a={name:"vc-side-dropdown-menu",props:["menuList"]},s=(n("549a"),n("2877")),i=Object(s.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.menuList,(function(t,a){return[null!=t.children?n("Dropdown",{attrs:{placement:"right-start"}},[n("DropdownItem",[e._v(e._s(t.title)),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("vc-side-dropdown-menu",{attrs:{"menu-list":t.children}})],1)],1):n("DropdownItem",{ref:t.path,refInFor:!0,attrs:{name:t.path}},[e._v(e._s(t.title))])]}))],2)}),[],!1,null,"6eb6bd08",null);t.default=i.exports},"8e12":function(e,t,n){},"94fc":function(e,t,n){},"974f":function(e,t,n){"use strict";var a=n("ffea");n.n(a).a},"9d52":function(e,t,n){"use strict";var a=n("6ad5");n.n(a).a},"9fbb":function(e,t,n){},b64b:function(e,t,n){var a=n("23e7"),s=n("7b0b"),i=n("df75");a({target:"Object",stat:!0,forced:n("d039")((function(){i(1)}))},{keys:function(e){return i(s(e))}})},dbb4:function(e,t,n){var a=n("23e7"),s=n("83ab"),i=n("56ef"),o=n("fc6a"),r=n("06cf"),c=n("8418");a({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){for(var t,n,a=o(e),s=r.f,u=i(a),l={},d=0;u.length>d;)void 0!==(n=s(a,t=u[d++]))&&c(l,t,n);return l}})},e439:function(e,t,n){var a=n("23e7"),s=n("d039"),i=n("fc6a"),o=n("06cf").f,r=n("83ab"),c=s((function(){o(1)}));a({target:"Object",stat:!0,forced:!r||c,sham:!r},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})},ffea:function(e,t,n){}}]);
//# sourceMappingURL=chunk-27824238.d4ac9674.js.map